--- origsrc/audacious-plugins-2.4.3/configure.ac	2011-01-12 05:13:26.000000000 -0600
+++ src/audacious-plugins-2.4.3/configure.ac	2011-02-03 02:29:33.727548100 -0600
@@ -210,7 +210,7 @@ dnl ========================
 
 BUILDSYS_SHARED_LIB
 BUILDSYS_PROG_IMPLIB
-test "x$PROG_IMPLIB_NEEDED" = "xyes" && LIBS="$LIBS -L\${libdir} -laudacious.exe"
+test "x$PROG_IMPLIB_NEEDED" = "xyes" && LIBS="$LIBS -L\${libdir} -laudacious2.exe"
 
 AC_MSG_CHECKING([if you are running Apple-GCC])
 case "$target" in
--- origsrc/audacious-plugins-2.4.3/m4/buildsys.m4	2011-01-12 05:13:26.000000000 -0600
+++ src/audacious-plugins-2.4.3/m4/buildsys.m4	2011-02-03 02:32:45.419420500 -0600
@@ -101,7 +101,23 @@ AC_DEFUN([BUILDSYS_SHARED_LIB], [
 			UNINSTALL_LIB='rm -f ${DESTDIR}${libdir}/$$i'
 			CLEAN_LIB=''
 			;;
-		cygwin* | mingw*)
+		cygwin*)
+			AC_MSG_RESULT(Cygwin)
+			LIB_CPPFLAGS='-DPIC'
+			LIB_CFLAGS=''
+			LIB_LDFLAGS='-shared -Wl,--out-implib,$(LIB:cyg%${LIB_SUFFIX}=lib%.dll.a)'
+			LIB_PREFIX='cyg'
+			LIB_SUFFIX='-${LIB_MAJOR}.dll'
+			LDFLAGS_RPATH=''
+			PLUGIN_CPPFLAGS=''
+			PLUGIN_CFLAGS=''
+			PLUGIN_LDFLAGS='-shared'
+			PLUGIN_SUFFIX='.dll'
+			INSTALL_LIB='${MKDIR_P} ${DESTDIR}${bindir} && ${INSTALL} -m 755 $$i ${DESTDIR}${bindir}/$$i && ${INSTALL} -m 755 $(LIB:cyg%${LIB_SUFFIX}=lib%.dll.a) ${DESTDIR}${libdir}/$(LIB:cyg%${LIB_SUFFIX}=lib%.dll.a)'
+			UNINSTALL_LIB='rm -f ${DESTDIR}${bindir}/$$i ${DESTDIR}${libdir}/$(LIB:cyg%${LIB_SUFFIX}=lib%.dll.a)'
+			CLEAN_LIB='$(LIB:cyg%${LIB_SUFFIX}=lib%.dll.a)'
+			;;
+		mingw*)
 			AC_MSG_RESULT(Win32)
 			LIB_CPPFLAGS='-DPIC'
 			LIB_CFLAGS=''
